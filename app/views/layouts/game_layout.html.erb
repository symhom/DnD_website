<!DOCTYPE html>
<html>
  <head>
    <title>Dungeons and Dragons</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <%= csrf_meta_tags %>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

    <%= stylesheet_link_tag    'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>


    <style>
    .movableImage
    { 
      position:  absolute;
      left: 0;
      top: 0; /* set these so Chrome doesn't return 'auto' from getComputedStyle */
      background: rgba(255,255,255,0.66); 
      border: 2px  solid rgba(0,0,0,0.5); 
      border-radius: 4px; padding: 8px;
    }
    </style>
 <!--    from https://stackoverflow.com/questions/6230834/html5-drag-and-drop-anywhere-on-the-screen -->
    <script type = "text/javascript">
    function drag_start(event) 
    {
    var style = window.getComputedStyle(event.target, null);
    var str = (parseInt(style.getPropertyValue("left")) - event.clientX) + ',' + (parseInt(style.getPropertyValue("top")) - event.clientY)+ ',' + event.target.id;
    event.dataTransfer.setData("Text",str);
    } 

    function drop(event) 
    {
    var offset = event.dataTransfer.getData("Text").split(',');
    var dm = document.getElementById(offset[2]);
    dm.style.left = (event.clientX + parseInt(offset[0],10)) + 'px';
    dm.style.top = (event.clientY + parseInt(offset[1],10)) + 'px';
    event.preventDefault();
    return false;
    }

    function drag_over(event)
    {
    event.preventDefault();
    return false;
    }  
</script>
  </head>

  <body ondragover="drag_over(event)" ondrop="drop(event)">

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">Week 6</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="/maps">Maps</a></li>
          <li class="nav-item"><a class="nav-link" href="/characters">Characters</a></li>

 <!--          <li class="nav-item"><a class="nav-link" href="/movies">Movies</a></li>
          <li class="nav-item"><a class="nav-link" href="/directors">Directors</a></li> -->
          <li class="nav-item"><a class="nav-link" href="/users">Users</a></li>
          <%if session[:user_id] != nil %>
          <li class="nav-item"><a class="nav-link" href="/games">Games</a></li>
          <%end %>
          </li>
        </ul>

        <form class="form-inline my-2 my-lg-0 mx-auto">
          <input name = "keyword" class="form-control mr-sm-2" size="30" type="search" placeholder="Search by title, director, actor..." aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>

     <ul class="navbar-nav ml-auto">
          <% if session[:user_id] != nil %>
            <li class="nav-item"><%= link_to "My Account", "/users/#{session[:user_id]}" %></li>
            <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
          <% else %>
            <li class="nav-item"><a class="nav-link" href="/users/new">Sign Up</a></li>
            <li class="nav-item"><a class="nav-link" href="/sessions/new">Login</a></li>
          <% end %>
          
        </li>
      </ul>
      </div>
    </nav>

    <% if notice.present? %>
        <div class="alert alert-primary">
          <%= notice %>
        </div>
      <% end %>



    <div class="container">

      <%= yield %>

    </div>
  </body>

</html>
